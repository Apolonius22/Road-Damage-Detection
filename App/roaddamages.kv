#: import Factory kivy.factory.Factory
#:import get_color_from_hex kivy.utils.get_color_from_hex
#:import MapView kivy.garden.mapview.MapView
WindowManager:
    StartScreen:
        id:StartScreen
    SignIn:
        id:SignIn
    SignUp:
        id: SignUp
    PolicyandTerms:
        id: PolicyandTerms
    MainScreen:
        id:Main
    ImageCaptions:
        id:ImageCaptions
    Setting:
        id: Setting
    ContactUs:
        id:ContactUs

<StartScreen>:
    name:"StartScreen"
    FitImage:
        source:"logo2.png"
        y: root.height-self.height
    GridLayout:
        cols:1
        BoxLayout:
            orientation:"vertical"
            spacing:5
            padding:10
            size_hint_y: 1.1
        BoxLayout:
            orientation:"vertical"
            spacing:1
            padding:10
            size_hint_y: 0.7

            MDLabel:
                text:"Hodophile"
                font_size: 30
                halign: "left"
                font_name: 'Comic'
                color: 0,0,204,0.6
            MDLabel:
                text:"Be the compromise you want to see in the world."
                font_size: 12
                halign: "left"
                font_name: 'Comic'
                color: 0,0,204,1

        BoxLayout:
            orientation:"vertical"
            spacing:5
            padding:10
            size_hint_y: 2.2

            MDFillRoundFlatButton:
                text:"Sign In"
                size_hint_x:0.8
                pos_hint: {'center_x': 0.5}
                size_hint_y: None
                font_size:16
                on_release:
                    app.root.current="SignIn"
                    root.manager.transition.direction="left"

            MDFillRoundFlatButton:
                text:"Sign Up"
                size_hint_x:0.8
                size_hint_y: None
                pos_hint: {'center_x': 0.5}
                bold: True
                font_size:16
                on_release:
                    app.root.current="SignUp"
                    root.manager.transition.direction="left"
        BoxLayout:
            orientation:"vertical"
            spacing:5
            padding:10

            MDLabel:
                text:"Your data and personal information are protected and encrpeted"
                font_size: 10
                pos_hint: {'center_x': 0.60}
                color: '#FFFFFF'
<SignIn>:
    name:"SignIn"
    title: "LogIn"
    FitImage:
        source:"logo2.png"
        size_hint_y:0.8
        pos_hint: {'center_y': 1}
    MDFloatingActionButton:
        icon: "arrow-left"
        pos_hint: {'center_x': 0.1,'center_y': 0.6}
        md_bg_color: "white"
        icon_color: "grey"
        line_color: "white"
        on_release:
            app.root.current="StartScreen"
            root.manager.transition.direction="right"

    GridLayout:
        cols:1
        BoxLayout:
            orientation:"vertical"
            spacing:5
            padding:10
            size_hint_y: 2.7
        BoxLayout:
            orientation:"vertical"
            spacing:25
            padding:50
            size_hint_y: 0.8
            MDLabel:
                text:"Welcome Back!"
                font_size: 20
                halign: "left"
                color: 0,0,204,0.6
            MDTextField:
                hint_text: "User Name"
                helper_text: "Enter Your User Name"
                required: True
                helper_text_mode: "on_error"
                size_hint_x: 0.9
                pos_hint: {'center_x': 0.5}
            MDTextField:
                hint_text: "Password"
                helper_text: "Enter Your User Password"
                required: True
                password:True
                helper_text_mode: "on_error"
                size_hint_x: 0.9
                pos_hint: {'center_x': 0.5}
                icon_right: 'eye-off'
            MDFillRoundFlatButton:
                text:"Sign In"
                size_hint_x:0.8
                pos_hint: {'center_x': 0.5}
                size_hint_y: None
                font_size:16
                on_release:
                    app.root.current="MainScreen"
                    root.manager.transition.direction="up"
        BoxLayout:
            orientation:"vertical"
            spacing:5
            padding:10
            size_hint_y: 0.2

<MainScreen>:
    name:"MainScreen"
    title: "MainScreen"
    FitImage:
        source:"back.png"
    GridLayout:
        cols:1
        spacing:15
        padding:10
        MDTopAppBar:
            title: "Hodophile"
            specific_text_color:"#3393FF"
            md_bg_color: "#FBFCFC"
            icon: "calendar"
            mode: "end"
            elevation: 12
            left_action_items: [["menu",lambda x: nav_drawer.set_state('toggle'),'Menu']]
            right_action_items:[["bell-outline", lambda x: x,'Notifications']]
        MDLabel:
            text:"Welcome Elham!"
            font_size: 16
            size_hint_y:0.02
            bold: True
        ScrollView:
            do_scroll_y: True
            do_scroll_x: False
            bar_width: 5
            bar_color: 77/255,148/255,255/255,1
            bar_inactive_color: 77/255,148/255,255/255,0.2
            GridLayout:
                cols:1
                spacing:50
                padding:15
                size_hint_y: None
                height: self.minimum_height
                adaptive_height: True
                GridLayout:
                    cols:1
                    spacing:15
                    size_hint_y: None
                    MDLabel:
                        text:"Options"
                        font_size:14
                    GridLayout:
                        cols:3
                        spacing: 10
                        size_hint_y: None
                        MDSmartTile:
                            radius: 24
                            box_radius: [0, 0, 24, 24]
                            box_color: 1, 1, 1, 0.8
                            source: "pic1.png"
                            pos_hint: {"center_x": .5, "center_y": .5}
                            MDIconButton:
                                icon: "arrow-right"
                                theme_icon_color: "Custom"
                                icon_color: "#49494d"
                                size_hint: 0.2,0.1
                                pos_hint: {"center_y": .5}
                                on_release:
                                    app.root.current="ImageCaptions"
                                    root.manager.transition.direction="right"
                            MDLabel:
                                text: " Take Picture"
                                font_size: 12
                                color: '#49494d'
                        MDSmartTile:
                            radius: 24
                            box_radius: [0, 0, 24, 24]
                            box_color: 1, 1, 1, .8
                            source: "video.jpg"
                            pos_hint: {"center_x": .5, "center_y": .5}
                            MDIconButton:
                                icon: "arrow-right"
                                theme_icon_color: "Custom"
                                icon_color: "#49494d"
                                size_hint: 0.2,0.1
                                pos_hint: {"center_y": .5}
                            MDLabel:
                                text: " Live mode"
                                font_size: 12
                                color: '#49494d'
                GridLayout:
                    cols:1
                    spacing: 15
                    size_hint_y:None
                    MDLabel:
                        text:"Map Overview"
                        font_size:14
                    GridLayout:
                        cols:1
                        spacing:10
                        size_hint_y:None
                        MDSmartTile:
                            radius: 5
                            box_radius: [0, 0, 5, 5]
                            box_color: 1, 1, 1, .8
                            source: "maps.png"
                            pos_hint: {"center_x": .5, "center_y": 0.5}
                            MDIconButton:
                                icon: "arrow-right"
                                theme_icon_color: "Custom"
                                icon_color: "#49494d"
                                size_hint: 0.2,0.1
                                pos_hint: {"center_y": .5}
                            MDLabel:
                                text: " Check points"
                                font_size: 12
                                color: '#49494d'
                GridLayout:
                    cols:1
                    spacing: 15
                    size_hint_y:None
                    MDLabel:
                        text:"Updates"
                        font_size:14
                    GridLayout:
                        cols:2
                        spacing: 10
                        size_hint_y:None
                        MDSmartTile:
                            radius: 5
                            box_radius: [0, 0, 5, 5]
                            box_color: 1, 1, 1, .8
                            source: "update.jpg"
                            pos_hint: {"center_x": .5, "center_y": 1.2}
                            MDIconButton:
                                icon: "arrow-right"
                                theme_icon_color: "Custom"
                                icon_color: "#49494d"
                                size_hint: 0.2,0.1
                                pos_hint: {"center_y": .5}
                            MDLabel:
                                text: " Registered damages"
                                font_size: 12
                                color: '#49494d'
                        MDSmartTile:
                            radius: 5
                            box_radius: [0, 0, 5, 5]
                            box_color: 1, 1, 1, .8
                            source: "complain.jpg"
                            pos_hint: {"center_x": .5, "center_y": 1.2}
                            MDIconButton:
                                icon: "arrow-right"
                                theme_icon_color: "Custom"
                                icon_color: "#49494d"
                                size_hint: 0.2,0.1
                                pos_hint: {"center_y": .5}
                            MDLabel:
                                text: " Complain"
                                font_size: 12
                                color: '#49494d'
        MDBottomNavigation:
            panel_color: "#FDFEFE"
            text_color_active: "#3393FF"
            size_hint_y:0.1

            MDBottomNavigationItem:
                text: 'Profile'
                icon: 'account'

            MDBottomNavigationItem:
                name: 'home'
                text: 'Home'
                icon: 'home'

            MDBottomNavigationItem:
                text: 'History'
                icon: 'wallet'
    MDNavigationDrawer:
        id: nav_drawer

        GridLayout:
            cols:1
            padding:10
            MDLabel:
                text: "Menu"
                font_size: 20
                bold: True
                size_hint_y:0.05
            MDLabel:
                text: "Setting, change to admin account and more "
                font_size: 12
                size_hint_y:0.05
            ScrollView:
                do_scroll_y: True
                MDList:
                    OneLineIconListItem:
                        text: 'Setting'
                        on_release:
                            app.root.current="Setting"
                            root.manager.transition.direction="left"
                        IconLeftWidget:
                            icon:'account-cog'
                    OneLineIconListItem:
                        text: 'Change permissions'
                        on_release:
                            app.root.current="Setting"
                            root.manager.transition.direction="left"
                        IconLeftWidget:
                            icon:'account-convert-outline'
                    OneLineIconListItem:
                        text:"Contact us"
                        on_release:
                            app.root.current="ContactUs"
                            root.manager.transition.direction="left"
                        IconLeftWidget:
                            icon:"card-account-mail"
                    OneLineIconListItem:
                        text:"Logout"
                        on_release:
                            app.root.current="StartScreen"
                            root.manager.transition.direction="down"
                        IconLeftWidget:
                            icon:"logout"
<SignUp>:
    name: "SignUp"
    GridLayout:
        cols:1
        MDProgressBar:
            orientation: "horizontal"
            value: 50
            size_hint_y:None
        MDLabel:
            text:"BECOME A HOLOPHILE MEMBER"
            font_size:14
            bold: True
            halign: "center"
            size_hint_y:0.1
        MDLabel:
            text:"Create your profile with Hodophile and contribute \nto make the life quality better"
            font_size:12
            halign:"center"
            color: "grey" 
            size_hint_y:0.05
        ScrollView:
            do_scroll_y: True
            GridLayout:
                cols:1
                padding:15
                spacing:15
                size_hint_y: None
                height: self.minimum_height
                adaptive_height: True
                MDTextField:
                    hint_text:"User name"
                    helper_text: "Maximum 15 characters in length"
                    mode: "rectangle"
                    max_text_length: 15
                MDTextField:
                    hint_text:"Password"
                    password: True
                    mode: "rectangle"
                MDTextField:
                    hint_text:"Age"
                    input_filter: 'int'
                    helper_text:"only numbers e.g: 29"
                    mode: "rectangle"
                MDTextField:
                    id: gender
                    hint_text: "Gender"
                    write_tab: False
                    icon_right: 'arrow-down-drop-circle-outline'
                    text:''
                    on_focus: root.Genderdisplay_dropdown()
                    mode: "rectangle"
                MDTextField:
                    hint_text: 'Area'
                    hint_text_color: 1,1,1,1
                    icon_left: 'magnify'
                    mode: "rectangle"
                    helper_text_mode: "persistent"
                    helper_text: "Select your city"
                MDTextField:
                    id: employment_Status
                    hint_text: "Employment Status"
                    write_tab: False
                    icon_right: 'arrow-down-drop-circle-outline'
                    text:''
                    on_focus: root.Empdisplay_dropdown()
                    mode: "rectangle"
                GridLayout:
                    cols:2
                    spacing:10
                    padding:10
                    MDFillRoundFlatButton:
                        text:"Back"
                        size_hint_x:0.8
                        pos_hint: {'center_x': 0.5}
                        size_hint_y: None
                        on_release:
                            app.root.current="StartScreen"
                            root.manager.transition.direction="right"
                    MDFillRoundFlatButton:
                        text:"Next"
                        size_hint_x:0.8
                        pos_hint: {'center_x': 0.5}
                        size_hint_y: None 
                        on_release:
                            app.root.current="PolicyandTerms"
                            root.manager.transition.direction="left"
                MDLabel:
                    text:''
<PolicyandTerms>:
    name: "PolicyandTerms"
    GridLayout:
        cols:1
        MDProgressBar:
            orientation: "horizontal"
            value: 100
            size_hint_y:None
        MDLabel:
            text:"BECOME A HOLOPHILE MEMBER"
            font_size:14
            bold: True
            halign: "center"
            size_hint_y:0.1
        MDLabel:
            text:"Terms and Privacy Policy"
            font_size:12
            halign:"center"
            color: "grey" 
            size_hint_y:0.05
        ScrollView:
            do_scroll_y: True
            GridLayout:
                cols:1
                padding:20
                spacing:80
                size_hint_y: None
                height: self.minimum_height
                adaptive_height: True
                MDLabel:
                    text:""
                MDLabel:
                    text:"Hodophile collects your personal data you provide during Sign Up process, besides it collects information such as your location.\nThis application does not share your data with third parties"
                    font_size:12
                    halign:"left"
                    color: "grey" 
                GridLayout:
                    cols:2
                    spacing: 20
                    padding:10
                    MDCheckbox:
                        id: CheckBox1
                        on_active:
                            root.checkbox_click(*args)
                        size_hint: (0.1,1)
                    MDLabel:
                        text:"I agree to use my data as described above."
                        font_size: 13
                MDFillRoundFlatButton:
                    text: "Decline"
                    size_hint: (0.5,0.5)
                    on_release:
                        app.root.current="StartScreen"
                        root.manager.transition.direction="right"
                MDFillRoundFlatButton:
                    id: ConfirmB
                    text: "Confirm"
                    size_hint: (0.5,0.5)
                    disabled: True
                    on_release:
                        app.root.current="SignIn"
                        root.manager.transition.direction="right"
<ImageCaptions>:
    name:"ImageCaptions"
    GridLayout:
        cols:1
        spacing:15
        padding:10
        MDTopAppBar:
            title:"Take Image"
            icon: "calendar"
            mode: "end"
            elevation: 12
            left_action_items: [["keyboard-backspace",lambda *args : setattr(root.manager, "current", "MainScreen"),'Back']]